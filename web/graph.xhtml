<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>BPMN Path Extractor - Main Page</title>
        <style type="text/css">
            .main-layout-unit {
                font-size: 12px;
                text-align: center;
            }
            .sub-layout-unit {
                border: 0;
            }
            .activity {
                border: 0.2em solid black;
                width: 8em;
                height: 5em;
                line-height: 5em;
                text-align: center;
            }
            .gateway {
                border: 0.2em solid black;
                width: 5em;
                height: 5em;
                line-height: 5em;
                text-align: center;
                background-repeat: no-repeat;
                background-position: center;
                background-image: url("../resources/gateway-cross.png");
                background-size: cover;
                transform: rotate(45deg) translate(-2em);
            }
            .start-event {
                border: 0.2em solid black;
                width: 5em;
                height: 5em;
                line-height: 5em;
                text-align: center;
                transform: translate(-2.4em, -2.4em);
                border-radius: 50%;
            }
            .intermediate-event {
                border: 0.4em double black;
                width: 5em;
                height: 5em;
                line-height: 5em;
                text-align: center;
                transform: translate(-2.4em, -2.4em);
                border-radius: 50%;
            }
            .end-event {
                border: 0.4em solid black;
                width: 5em;
                height: 5em;
                line-height: 5em;
                text-align: center;
                transform: translate(-2.4em, -2.75em);
                border-radius: 50%;
            }
            .diagram {
                height: inherit;
                width: inherit;
            }
            .ui-fileupload-content .ui-progressbar {
                width: 0;
                height: 0;
                margin: 0;
            }
        </style>
    </h:head>

    <h:body>
        <p:layout fullPage="true">
            <p:layoutUnit position="center" header="BPMN Graph" styleClass="main-layout-unit">
                <p:diagram id="diagram" value="#{diagramView.model}" styleClass="diagram"/>
            </p:layoutUnit>
            <p:layoutUnit position="west" size="300" styleClass="main-layout-unit">
                <p:layout>
                    <p:layoutUnit position="center" header="Actions" styleClass="sub-layout-unit">
                        <h:form>
                            <p:fileUpload fileUploadListener="#{diagramView.drawDiagram}" allowTypes="/(\.|\/)(bpmn)$/" update="diagram"/>
                        </h:form>
                        <p:button value="Set Activities Properties" outcome="properties"/>
                        <p:commandButton value="Extract Paths"/>
                    </p:layoutUnit>
                    <p:layoutUnit position="south" header="Paths List" size="630" styleClass="sub-layout-unit"/>
                </p:layout>
            </p:layoutUnit>
        </p:layout>
    </h:body>
</html>
